import streamlit as stimport cx_Oracleimport pandas as pdimport matplotlib.pyplot as pltimport seaborn as sns# Connection parametersusername = "SYS"password = "2000"hostname = "localhost"port = "1521"sid = "xe"# Create the DSN stringdsn = cx_Oracle.makedsn(hostname, port, sid=sid)# Connect to the databaseconnection = cx_Oracle.connect(username, password, dsn, mode=cx_Oracle.SYSDBA)print("Successfully connected to the Oracle database")# Affichage dans Streamlitst.title('TITRE')# Requête SQL pour récupérer les donnéessql = "SELECT * FROM Article_Category"  sql2 = "SELECT * FROM Article" # Lecture des donnéesdf1 = pd.read_sql(sql, connection)df2 = pd.read_sql(sql2, connection)# Sidebar pour les options de sélectionst.sidebar.header("Options de Sélection")table_choice = st.sidebar.radio("Choisissez une table:", ('df1', 'df2'))# Affichage conditionnel basé sur le choix de la tableif table_choice == 'df1':    st.write("Affichage des catégories")    st.write(df1)elif table_choice == 'df2':    st.write("Affichage des articles")    # Convertir les colonnes CLOB en chaînes de caractères et traiter la colonne 'CREATION_DATE'    for col in df2.columns:        if isinstance(df2[col].dtype, pd.api.types.CategoricalDtype):            df2[col] = df2[col].astype(str)        # Convertir la colonne 'CREATION_DATE' en format date uniquement, si elle existe dans DataFrame    if 'CREATION_DATE' in df2.columns:        df2['CREATION_DATE'] = pd.to_datetime(df2['CREATION_DATE']).dt.date            st.write(df2)# Affichage d'un graphique simplest.header("Visualisation de Données")# Choix de la colonne pour le graphiqueif table_choice == 'df1':    column_to_plot = st.selectbox("Choisissez une colonne catégorielle de df1", df1.columns)    data_to_plot = df1[column_to_plot]else:    column_to_plot = st.selectbox("Choisissez une colonne catégorielle de df2", df2.columns)    data_to_plot = df2[column_to_plot]# Création du diagramme à barresfig, ax = plt.subplots()sns.countplot(x=data_to_plot, ax=ax)ax.set_title(f"Diagramme à barres de {column_to_plot}")st.pyplot(fig)# Affichage des données#st.write(df,df2)connection.close()